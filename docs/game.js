!function i(r,n,s){function c(e,t){if(!n[e]){if(!r[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(a)return a(e,!0);throw(o=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",o}o=n[e]={exports:{}},r[e][0].call(o.exports,function(t){return c(r[e][1][t]||t)},o,o.exports,i,r,n,s)}return n[e].exports}for(var a="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PLAYER_COLOR=o.PLATFORM_COLORS=void 0,o.PLATFORM_COLORS=["#2ca8c2","#98cb4a","#f76d3c","#f15f74","#5481e6","#bf360c","#fbc02d","#5e35b1","#2e7d32","#455a64","#880e4f"],o.PLAYER_COLOR="#181818"},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DIFFICULTIES=void 0;t=t("../models/difficulty");o.DIFFICULTIES=[new t.Difficulty(10,1,400),new t.Difficulty(25,2,500),new t.Difficulty(40,3,550)]},{"../models/difficulty":7}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.JUMP_KEYS=void 0,o.JUMP_KEYS=[32,38]},{}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BLAZE_SIZE=o.PLAYER_SIZE=void 0,o.PLAYER_SIZE={height:32,width:32,x:150,y:30,jumpSize:13},o.BLAZE_SIZE=10},{}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});new(t("./models/game").Game)},{"./models/game":8}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasManager=void 0;var r=t("../config/keys.config"),t=(i.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.isTapped=function(){return this.mouse||this.touching||this.key},Object.defineProperty(i.prototype,"height",{get:function(){return this.canvas.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.canvas.width},enumerable:!1,configurable:!0}),i.prototype.start=function(){var t=this,e=function(){t.onUpdate(),t.clear(),t.onDraw(),window.requestAnimationFrame(e)};window.requestAnimationFrame(e)},i);function i(t,e){var o=this;this.mouse=!1,this.touching=!1,this.key=!1,this.onUpdate=function(){},this.onDraw=function(){},this.canvas=t,this.canvas.height=e.height,this.canvas.width=e.width,this.context=this.canvas.getContext("2d"),this.canvas.addEventListener("mousedown",function(){o.mouse=!0}),this.canvas.addEventListener("mouseup",function(){o.mouse=!1}),this.canvas.addEventListener("touchstart",function(){o.touching=!0}),this.canvas.addEventListener("touchend",function(){o.touching=!1});function i(t){return-1<r.JUMP_KEYS.indexOf(t.keyCode)}window.addEventListener("keydown",function(t){i(t)&&(o.key=!0)}),window.addEventListener("keyup",function(t){i(t)&&(o.key=!1)})}o.CanvasManager=t},{"../config/keys.config":3}],7:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Difficulty=void 0,o.Difficulty=function(t,e,o){this.scoreTrigger=t,this.accelerationModifier=e,this.maxDistance=o}},{}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Game=void 0;var i=t("./platform-group"),r=t("../tools/score"),n=t("./spark"),s=t("./player"),c=t("../config/size.config"),a=t("./canvas-manager"),h=t("../config/difficulties.config"),u=t("../tools/storage"),t=(f.prototype.updateGame=function(){var i=this;this.player.update(),(this.player.y>this.canvas.height||this.player.x+this.player.width<0)&&this.resetGame(),this.isTapped()&&this.player.velocityY<-8&&(this.player.velocityY-=.75),this.acceleration+=.01*(this.accelerationModifier-this.acceleration),this.platformGroup.platforms.forEach(function(t){if(i.player.intersects(t)){var e=t;if(i.player.y<t.y&&(i.player.y=t.y,i.player.velocityY=0),i.player.rollback(),i.sparks[i.sparkIndex++%i.sparksMax]=n.Spark.createFriction(i.player,e.color,i.acceleration),i.player.intersectsLeft(t)){i.player.x=e.x-2*i.player.width;for(var o=0;o<10;o++)i.sparks[i.sparkIndex++%i.sparksMax]=n.Spark.createCollision(i.player,e.color,i.acceleration);i.player.velocityY=i.player.velocityY/2,i.player.velocityX=-4*i.acceleration-20}else i.isTapped()&&i.jumped()}}),this.platformGroup.update(this.canvas,this.acceleration),this.sparks.forEach(function(t){t.update()})},f.prototype.drawGame=function(){var e=this;this.drawShape(this.player),this.platformGroup.platforms.forEach(function(t){e.drawShape(t)}),this.sparks.forEach(function(t){e.drawShape(t)})},f.prototype.drawShape=function(t){this.canvas.context.fillStyle=t.color,this.canvas.context.fillRect(t.x,t.y,t.width,t.height)},f.prototype.jumped=function(){var e=this;this.player.velocityY=this.player.jumpSize,this.score++,r.setScore(this.score),h.DIFFICULTIES.forEach(function(t){e.score===t.scoreTrigger&&(e.accelerationModifier=t.accelerationModifier,e.platformGroup.maxDistance=t.maxDistance)}),this.score>this.record&&(this.record=this.score,r.setRecord(this.record),u.storeRecord(this.record))},f.prototype.isTapped=function(){return this.canvas.isTapped()},f.prototype.resetGame=function(){this.player.setToInitial(),this.score=0,r.setScore(0),this.acceleration=0,this.accelerationModifier=0,this.platformGroup.maxDistance=350,this.platformGroup.updateWhenLose(this.canvas)},f);function f(){var t=this;this.canvas=new a.CanvasManager(document.getElementById("manager"),{width:640,height:400}),this.score=0,this.acceleration=0,this.accelerationModifier=0,this.sparks=[],this.sparkIndex=0,this.sparksMax=20,this.record=u.fetchRecord(),this.touchActive=!1,this.player=new s.Player({x:c.PLAYER_SIZE.x,y:c.PLAYER_SIZE.y,width:c.PLAYER_SIZE.width,height:c.PLAYER_SIZE.height}),this.platformGroup=new i.PlatformGroup(this.canvas.width,this.canvas.height),r.setRecord(this.record),this.canvas.onUpdate=function(){t.updateGame()},this.canvas.onDraw=function(){t.drawGame()},this.canvas.start()}o.Game=t},{"../config/difficulties.config":2,"../config/size.config":4,"../tools/score":15,"../tools/storage":16,"./canvas-manager":6,"./platform-group":9,"./player":10,"./spark":12}],9:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PlatformGroup=void 0;var n=t("../tools/random"),i=t("../config/colors.config"),r=t("./rect");function s(){return n.random(i.PLATFORM_COLORS)}c.prototype.update=function(o,i){var r=this;this.platforms.forEach(function(t,e){t.x-=3*(3+i);t.x+t.width<0&&(e=r.platforms[0==e?r.platforms.length-1:e-1],t.width=n.random(450,o.width+200),t.x=r.getInitialX(e),t.y=n.random(e.y-32,o.height-80),t.height=t.y+o.height+10,t.color=s())})},c.prototype.updateWhenLose=function(t){this.first.x=300,this.first.color=s(),this.first.y=t.width/n.random(2,3),this.second.x=this.getInitialX(this.first),this.third.x=this.getInitialX(this.second)},c.prototype.getInitialX=function(t){return t.x+t.width+n.random(this.maxDistance-150,this.maxDistance)},Object.defineProperty(c.prototype,"first",{get:function(){return this.platforms[0]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"second",{get:function(){return this.platforms[1]},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"third",{get:function(){return this.platforms[2]},enumerable:!1,configurable:!0}),t=c;function c(t,e){this.maxDistance=300,this.colliding=!1,this.platforms=[];var o=t/2;this.platforms.push(new r.Rect(300,t/2,n.random(150,400),o+e));for(var i=0;i<2;i++)o=n.random(o-128,e-80),this.platforms.push(new r.Rect(this.getInitialX(this.platforms[i]),o,n.random(150,400),o+e));this.platforms.forEach(function(t){t.color=s()})}o.PlatformGroup=t},{"../config/colors.config":1,"../tools/random":14,"./rect":11}],10:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Player=void 0;var n,s=t("./rect"),c=t("../config/colors.config"),a=t("../config/size.config"),r=(n=s.Rect,r(h,n),h.prototype.update=function(){this.velocityY+=1,this.setPosition(this.x+this.velocityX,this.y+this.velocityY)},h.prototype.setToInitial=function(){this.x=a.PLAYER_SIZE.x,this.y=a.PLAYER_SIZE.y,this.velocityX=0,this.velocityY=0},h.prototype.rollback=function(){this.x=this.previousX,this.y=this.previousY},h);function h(t){var e=n.call(this,t.x,t.y,t.width,t.height)||this;return e.velocityX=0,e.velocityY=0,e.jumpSize=-a.PLAYER_SIZE.jumpSize,e.color=c.PLAYER_COLOR,e.setPosition(t.x,t.y),e}o.Player=r},{"../config/colors.config":1,"../config/size.config":4,"./rect":11}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Rect=void 0;var i=(r.prototype.setPosition=function(t,e){this.setX(t),this.setY(e)},r.prototype.setX=function(t){this.previousX=this.x,this.x=t},r.prototype.setY=function(t){this.previousY=this.y,this.y=t},r.prototype.intersects=function(t){return this.intersectsLeft(t)&&t.x+t.width>this.x&&t.y+t.height>this.y},r.prototype.intersectsLeft=function(t){return t.x<this.x+this.width&&t.y<this.y+this.height},Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),r);function r(t,e,o,i){this.x=t,this.y=e,this.width=o,this.height=i,this.previousX=0,this.previousY=0}o.Rect=i},{}],12:[function(t,e,o){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Spark=void 0;var n,s=t("../tools/random"),c=t("./rect"),a=t("../config/size.config"),h=t("../tools/color"),r=(n=c.Rect,r(u,n),u.prototype.update=function(){this.x+=this.velocityX,this.y+=this.velocityY,this.width*=.9,this.height*=.9},u.createFriction=function(t,e,o){return new u({x:t.x,y:t.bottom,color:h.hexToRgba(e,.5),acceleration:o})},u.createCollision=function(t,e,o){return new u({x:t.right,y:s.random(t.y,t.bottom),velocityY:s.random(-30,30),color:s.random([t.color,t.color,e]),acceleration:o})},u);function u(t){function e(){return s.random(-3*t.acceleration-8,-3*t.acceleration)}var o=n.call(this,t.x,t.y,a.BLAZE_SIZE,a.BLAZE_SIZE)||this;return o.velocityX=t.velocityX||e(),o.velocityY=t.velocityY||e(),o.color=t.color,o}o.Spark=r},{"../config/size.config":4,"../tools/color":13,"../tools/random":14,"./rect":11}],13:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hexToRgba=void 0,o.hexToRgba=function(t,e){void 0===e&&(e=1);var o=t.replace("#",""),t="",t=3===o.length?o.split("").map(function(t){return""+t+t}).join(""):o;return"rgba("+((t=parseInt(t,16))>>16&255)+","+(t>>8&255)+","+(255&t)+","+e+")"}},{}],14:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.random=void 0,o.random=function t(e,o){return void 0===o&&(o=null),"number"==typeof e?Math.round(e+Math.random()*(o-e)):e[Math.round(t(0,e.length-1))]}},{}],15:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.setScore=o.setRecord=void 0;var i=document.getElementById("score"),r=document.getElementById("record");o.setRecord=function(t){r.innerText=t},o.setScore=function(t){i.innerText=t}},{}],16:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.storeRecord=o.fetchRecord=void 0,o.fetchRecord=function(){return parseInt(localStorage.getItem("record"))||0},o.storeRecord=function(t){localStorage.setItem("record",t+"")}},{}]},{},[5]);